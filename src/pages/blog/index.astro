---
import { getCollection, type CollectionEntry } from "astro:content";
import Main from "../../layouts/Main.astro";
import ArticleCard from "../../components/ArticleCard.astro";
import { getPosts } from "../../utils/getPosts";

const posts: CollectionEntry<'blog'>[] = await getPosts({limit: 5})

const pageName = "Blog";
---

<Main {pageName}>
	<p>Welcome to the {pageName} page!</p>
	{posts.map((post: CollectionEntry<'blog'>) => (
    <ArticleCard {post} />
	))}
</Main>

<style>
  article {
    padding: 1em;
    border: 1px solid darkslategray;
    border-radius: .5rem;
  }
</style>