---
import { getEntry } from "astro:content";

import Main from "../../../../layouts/Main.astro";
import Tags from "../../../../components/Tags.astro";

const pageName = "test";
const { slug, category } = Astro.params;

const entry = await getEntry("blog", `categories/${category}/${slug}` as string);

if (!entry) {
  return Astro.redirect("/404");
}
const { tags } = entry.data;
const { Content } = await entry.render();
---

<Main {pageName}>
  <p><strong>category: </strong><a href=`/blog/categories/${category}`>{category}</a> </p>
  <p><strong>tags: </strong><Tags {tags} /></p>
  <br />
  <Content />
</Main>